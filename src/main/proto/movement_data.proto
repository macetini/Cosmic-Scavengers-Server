syntax = "proto3";

package cosmic.scavengers;

option java_package = "com.cosmic.scavengers.network.proto";
option java_multiple_files = true;

// =========================================================================
// NOTE ON FIXED-POINT ARITHMETIC
// =========================================================================
// All 'int64' fields representing position, speed, or velocity components 
// are the UN-SCALED long values of the decimal4j Decimal<Scale4f> type. 
// On the client and server, these values must be re-interpreted using 
// a fixed scale of 4 (e.g., value of 1234567L means 123.4567).
// =========================================================================


// --- 1. Core Data Structures ---

// Represents a fixed-point 2D vector for position or velocity.
message Vector2D {
  // Unscaled long value of the X-coordinate (Scale4f)
  int64 x = 1; 
  // Unscaled long value of the Y-coordinate (Scale4f)
  int64 y = 2;
}

// Represents the state of an active movement component.
message MovementData {
  // The final destination target for the entity.
  Vector2D target = 1; 
  // Unscaled long value of the movement speed (Scale4f)
  int64 speed_unscaled = 2;
}